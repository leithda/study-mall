

# 商品详情



## 环境搭建



### Host配置

```properties
192.168.56.10 item.mall.com
```



### 网关配置

```yaml
        - id: mall_host_route
          uri: lb://product-service
          predicates:
            - Host=mall.com,item.mall.com
```





## 模型抽取

设置商品详情数据对象为

```java
@Data
public class SkuItemVo {
    // 1、sku基本信息 pms_sku_info
    SkuInfoEntity info;

    // 2、sku的图片信息 pms_sku_images
    List<SkuImagesEntity> images;

    // 3、spu的销售属性组合
    List<SkuItemSaleAttrsVo> saleAttr;

    // 4、获取spu的介绍
    SpuInfoDescEntity desp;

    // 5、获取spu的规格参数信息
    List<SpuItemAttrGroupVo> groupAttrs;

    /**
     * Sku 销售属性分装
     */
    @Data
    public static class SkuItemSaleAttrsVo{
        private Long attrId;
        /**
         * 属性名
         */
        private String attrName;

        /**
         * 属性值
         */
        private List<String> attrValues;
    }


    /**
     * Spu基础属性数据分装
     */
    @Data
    public static class SpuItemAttrGroupVo{

        /**
         * 分组名
         */
        private String groupName;

        private List<SpuBaseAttrVo> attrs;
    }

    /**
     * spu基础属性对象封装
     */
    @Data
    public static class SpuBaseAttrVo {
        private String attrName;
        private String attrValue;
    }
}
```

